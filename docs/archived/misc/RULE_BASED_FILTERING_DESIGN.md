# ê·œì¹™ ê¸°ë°˜ í•„í„°ë§ ë¡œì§ ì„¤ê³„

**ì„¤ê³„ì¼**: 2025-11-14
**ëª©ì **: ì ìˆ˜ ì‹œìŠ¤í…œì„ ë‹¨ê³„ë³„ ê·œì¹™ ê¸°ë°˜ í•„í„°ë§ìœ¼ë¡œ ì „í™˜

---

## ğŸ“‹ ìš”êµ¬ì‚¬í•­ ì •ë¦¬

### ì‚¬ìš©ì ìš”êµ¬ì‚¬í•­

```
1. ì••ì¶•íŒŒì¼ì€ ë¯¸ë¦¬ ì••ì¶• í•´ì œí•œë‹¤.

2. ê³µê³  ì œëª©ê³¼ íŒŒì¼ëª…ì´ ì™„ì „ ë™ì¼í•˜ë©´ ë¬´ì¡°ê±´ ì²˜ë¦¬
   â†’ ë™ì¼í•œ íŒŒì¼ëª…ì´ ì—¬ëŸ¬ê°œë©´ í™•ì¥ì ìš°ì„ ìˆœìœ„ë¡œ 1ê°œ ì„ íƒ

3. ì²¨ë¶€íŒŒì¼ì´ 1ê°œë§Œ ì¡´ì¬í•˜ë©´ ë¬´ì¡°ê±´ ì²˜ë¦¬

4. ì²¨ë¶€íŒŒì¼ì´ ì—¬ëŸ¬ê°œì¸ ê²½ìš°:
   4-1. ê³µê³  ì œëª©ê³¼ ì™„ì „ ë™ì¼í•œê²Œ ìˆë‹¤ë©´ ê·¸ 1ê°œ ì²˜ë¦¬
        â†’ ë™ì¼í•œê²Œ ì—¬ëŸ¬ê°œë©´ í™•ì¥ì ìš°ì„ ìˆœìœ„ë¡œ 1ê°œ ì„ íƒ

   4-2. í•„ìˆ˜ í¬í•¨ í‚¤ì›Œë“œì— í¬í•¨ëœê²ƒ ìš°ì„  ì„ ë³„
        â†’ ì„ ë³„ëœê²Œ ì—†ìœ¼ë©´ ëª¨ë“  ì²¨ë¶€íŒŒì¼ ì²˜ë¦¬

   4-3. ì„ ë³„ëœê²ƒ ì¤‘ ì œì™¸ í‚¤ì›Œë“œë¡œ í•„í„°ë§
        â†’ ì œì™¸ í›„ ë‚¨ì€ íŒŒì¼ ëª¨ë‘ ì²˜ë¦¬
        â†’ ì œì™¸ í›„ ë‚¨ëŠ”ê²Œ ì—†ìœ¼ë©´ ì œì™¸ ì „ íŒŒì¼ ëª¨ë‘ ì²˜ë¦¬
```

---

## ğŸ¤” ë¶„ì„ ë° ê³ ë ¤ì‚¬í•­

### ì§ˆë¬¸ 1: "ê³µê³  ì œëª©ê³¼ íŒŒì¼ëª…ì´ ì™„ì „ ë™ì¼"ì˜ ê¸°ì¤€

**ì˜µì…˜ A**: ì •í™•íˆ ë™ì¼ (í™•ì¥ì ì œì™¸)
```python
ì œëª©: "2025ë…„ ì°½ì—…ì§€ì›ì‚¬ì—… ëª¨ì§‘ê³µê³ "
íŒŒì¼: "2025ë…„ ì°½ì—…ì§€ì›ì‚¬ì—… ëª¨ì§‘ê³µê³ .hwp"
â†’ ì¼ì¹˜ âœ…
```

**ì˜µì…˜ B**: ì •ê·œí™” í›„ ë¹„êµ
```python
ì œëª©: "2025ë…„ ì°½ì—…ì§€ì›ì‚¬ì—… ëª¨ì§‘ê³µê³ "
íŒŒì¼: "2025ë…„ì°½ì—…ì§€ì›ì‚¬ì—…ëª¨ì§‘ê³µê³ .hwp"  # ê³µë°± ì°¨ì´
â†’ ì¼ì¹˜?

ì •ê·œí™”: ê³µë°±/íŠ¹ìˆ˜ë¬¸ì ì œê±° í›„ ë¹„êµ
```

**ì˜µì…˜ C**: ìœ ì‚¬ë„ > 0.95 (í˜„ì¬ êµ¬í˜„)
```python
ì œëª©: "2025ë…„ ì°½ì—…ì§€ì›ì‚¬ì—… ëª¨ì§‘ê³µê³ "
íŒŒì¼: "2025ë…„ ì°½ì—…ì§€ì›ì‚¬ì—… ëª¨ì§‘ ê³µê³ .hwp"  # ê³µë°± 1ê°œ ì°¨ì´
ìœ ì‚¬ë„: 0.98
â†’ ì¼ì¹˜ âœ…
```

**ê¶Œì¥**: **ì˜µì…˜ C** (ìœ ì‚¬ë„ > 0.95 ë˜ëŠ” 0.98)
- ì´ìœ : ê³µë°±/íŠ¹ìˆ˜ë¬¸ì ì°¨ì´ í—ˆìš©
- í˜„ì¬ êµ¬í˜„ê³¼ ë™ì¼

---

### ì§ˆë¬¸ 2: "announcement_pre_processor.pyì™€ ì™„ì „ ë™ì¼"ì˜ ì˜ë¯¸

**í•´ì„**:
```
4-1. announcement_pre_processor.pyì™€ ì™„ì „ ë™ì¼í•œê²Œ ìˆë‹¤ë©´ ê·¸ 1ê°œë¥¼ ì²˜ë¦¬í•œë‹¤.
```

**ì¶”ì •**: "ê³µê³  ì œëª©"ì˜ ì˜¤íƒ€ë¡œ ë³´ì„
- `announcement_pre_processor.py`ëŠ” íŒŒì¼ëª…ì´ ì•„ë‹˜
- ì•„ë§ˆë„ "ê³µê³  ì œëª©ê³¼ ì™„ì „ ë™ì¼"ì„ ì˜ë¯¸í•˜ëŠ” ë“¯

**í™•ì¸ í•„ìš”**: ì‚¬ìš©ìì—ê²Œ ëª…í™•íˆ í•  ê²ƒ

**ì„ì‹œ í•´ì„**: "ê³µê³  ì œëª©ê³¼ ì™„ì „ ë™ì¼" (2ë²ˆê³¼ ë™ì¼)

---

### ì§ˆë¬¸ 3: "í•„ìˆ˜ í¬í•¨ í‚¤ì›Œë“œ"ì™€ "ì œì™¸ í‚¤ì›Œë“œ"

**í˜„ì¬ êµ¬í˜„**:
- ìš°ì„ ìˆœìœ„ í‚¤ì›Œë“œ (29ê°œ): ê³µê³ , ëª¨ì§‘, ì‚¬ì—…ê³„íšì„œ ë“±
- ì œì™¸ í‚¤ì›Œë“œ (53ê°œ): ì‹ ì²­ì„œ, ì–‘ì‹, ì°¸ê³ ìë£Œ ë“±

**ì§ˆë¬¸**:
- "í•„ìˆ˜ í¬í•¨ í‚¤ì›Œë“œ" = í˜„ì¬ "ìš°ì„ ìˆœìœ„ í‚¤ì›Œë“œ"?
- ìƒˆë¡œìš´ í‚¤ì›Œë“œ ë¦¬ìŠ¤íŠ¸?

**ê¶Œì¥**: í˜„ì¬ ìš°ì„ ìˆœìœ„ í‚¤ì›Œë“œë¥¼ "í•„ìˆ˜ í¬í•¨ í‚¤ì›Œë“œ"ë¡œ ì¬ì •ì˜

**ì¶”ê°€ ê³ ë ¤**:
- í‚¤ì›Œë“œ **í•˜ë‚˜ë¼ë„** í¬í•¨ë˜ë©´ ì„ ë³„?
- í‚¤ì›Œë“œ **ëª¨ë‘** í¬í•¨ë˜ì–´ì•¼ ì„ ë³„?

**ê¶Œì¥**: **í•˜ë‚˜ë¼ë„** í¬í•¨

---

### ì§ˆë¬¸ 4: í™•ì¥ì ìš°ì„ ìˆœìœ„

**í˜„ì¬ êµ¬í˜„**:
```python
extension_priority = {
    '.md': 1,      # ìµœìš°ì„ 
    '.hwp': 2,
    '.hwpx': 3,
    '.pdf': 4,
    '.docx': 5,
    '.pptx': 10,
    '.jpg': 20,
    # ...
}
```

**ì‚¬ìš©ì ìš”êµ¬**:
```
hwp -> hwpx -> pdf -> ì´ë¯¸ì§€
```

**ì£¼ì˜**: `.md`ëŠ” ì–¸ê¸‰ ì•ˆë¨

**ì§ˆë¬¸**:
- `.md` íŒŒì¼ì€ ìµœìš°ì„ ? (í˜„ì¬ì²˜ëŸ¼)
- ì•„ë‹ˆë©´ ì œì™¸?

**ê¶Œì¥**: `.md` ìµœìš°ì„  ìœ ì§€ (ì´ë¯¸ ë³€í™˜ëœ íŒŒì¼)

**ìµœì¢… ìˆœì„œ**:
```
.md > .hwp > .hwpx > .pdf > .docx > .pptx > ì´ë¯¸ì§€ > .zip
```

---

### ì§ˆë¬¸ 5: "ëª¨ë“  ì²¨ë¶€íŒŒì¼ ì²˜ë¦¬"ì˜ ì˜ë¯¸

**ì‹œë‚˜ë¦¬ì˜¤**:
```
í•„ìˆ˜ í¬í•¨ í‚¤ì›Œë“œ ì„ ë³„ ê²°ê³¼: ì—†ìŒ
â†’ "ëª¨ë“  ì²¨ë¶€íŒŒì¼ì„ ì²˜ë¦¬í•œë‹¤"
```

**ì§ˆë¬¸**:
- ì •ë§ **ëª¨ë“ ** íŒŒì¼ ë‚´ìš©ì„ ì¶”ì¶œí•˜ê³  ê²°í•©?
- ì•„ë‹ˆë©´ ëŒ€í‘œ íŒŒì¼ 1ê°œë§Œ ì„ íƒ?

**í•´ì„ A**: ëª¨ë“  íŒŒì¼ ë‚´ìš© ê²°í•©
```python
for file in all_files:
    content = extract_content(file)
    combined += content
```

**í•´ì„ B**: í™•ì¥ì ìš°ì„ ìˆœìœ„ë¡œ 1ê°œë§Œ ì„ íƒ
```python
best_file = max(all_files, key=lambda f: extension_priority[f.suffix])
content = extract_content(best_file)
```

**ê¶Œì¥**: **í•´ì„ A** (ëª¨ë“  íŒŒì¼ ì²˜ë¦¬)
- ì´ìœ : "ëª¨ë‘ ì²˜ë¦¬í•œë‹¤"ëŠ” ëª…í™•í•œ í‘œí˜„

---

### ì§ˆë¬¸ 6: ì œì™¸ í›„ ë‚¨ëŠ”ê²Œ ì—†ëŠ” ê²½ìš°

```
4-3. ì œì™¸ í›„ ë‚¨ëŠ”ê²Œ ì—†ìœ¼ë©´ ì œì™¸ ì „ íŒŒì¼ ëª¨ë‘ ì²˜ë¦¬
```

**ì˜ˆì‹œ**:
```
í•„ìˆ˜ í¬í•¨ í‚¤ì›Œë“œ ì„ ë³„: [ê³µê³ ë¬¸.hwp, ì‚¬ì—…ê³„íšì„œ.hwp]
ì œì™¸ í‚¤ì›Œë“œ ì ìš©:
  - ê³µê³ ë¬¸.hwp â†’ ì œì™¸ í‚¤ì›Œë“œ ì—†ìŒ â†’ ìœ ì§€
  - ì‚¬ì—…ê³„íšì„œ.hwp â†’ ì œì™¸ í‚¤ì›Œë“œ ì—†ìŒ â†’ ìœ ì§€

ë‚¨ì€ íŒŒì¼: 2ê°œ
â†’ 2ê°œ ëª¨ë‘ ì²˜ë¦¬ âœ…
```

```
í•„ìˆ˜ í¬í•¨ í‚¤ì›Œë“œ ì„ ë³„: [ê³µê³ ë°ì‹ ì²­ì„œ.hwp]
ì œì™¸ í‚¤ì›Œë“œ ì ìš©:
  - ê³µê³ ë°ì‹ ì²­ì„œ.hwp â†’ "ì‹ ì²­ì„œ" ì œì™¸ í‚¤ì›Œë“œ â†’ ì œì™¸ë¨

ë‚¨ì€ íŒŒì¼: 0ê°œ
â†’ ì œì™¸ ì „ íŒŒì¼ [ê³µê³ ë°ì‹ ì²­ì„œ.hwp] ì²˜ë¦¬ âœ…
```

**í™•ì¸**: ë§ìŒ âœ…

---

## ğŸ”§ ìµœì¢… ë¡œì§ ì„¤ê³„

### ì „ì²´ íë¦„ë„

```
START
  â†“
[1] ì••ì¶• íŒŒì¼ í•´ì œ
  â†“
[2] ì œëª©-íŒŒì¼ëª… ì¼ì¹˜ í™•ì¸ (ìœ ì‚¬ë„ > 0.95)
  â”œâ”€ YES â†’ ë™ì¼ íŒŒì¼ ì—¬ëŸ¬ê°œ?
  â”‚         â”œâ”€ YES â†’ í™•ì¥ì ìš°ì„ ìˆœìœ„ë¡œ 1ê°œ ì„ íƒ â†’ END
  â”‚         â””â”€ NO â†’ ê·¸ íŒŒì¼ ì„ íƒ â†’ END
  â””â”€ NO
      â†“
[3] ì²¨ë¶€íŒŒì¼ ê°œìˆ˜ í™•ì¸
  â”œâ”€ 0ê°œ â†’ ë¹ˆ ê²°ê³¼ â†’ END
  â”œâ”€ 1ê°œ â†’ ê·¸ íŒŒì¼ ì²˜ë¦¬ â†’ END
  â””â”€ 2ê°œ ì´ìƒ
      â†“
[4-1] ì œëª©ê³¼ ë™ì¼í•œ íŒŒì¼ í™•ì¸ (ë‹¤ì‹œ ì²´í¬, 2ë²ˆê³¼ ì¤‘ë³µ?)
  â”œâ”€ YES â†’ ë™ì¼ íŒŒì¼ ì—¬ëŸ¬ê°œ?
  â”‚         â”œâ”€ YES â†’ í™•ì¥ì ìš°ì„ ìˆœìœ„ë¡œ 1ê°œ ì„ íƒ â†’ END
  â”‚         â””â”€ NO â†’ ê·¸ íŒŒì¼ ì„ íƒ â†’ END
  â””â”€ NO
      â†“
[4-2] í•„ìˆ˜ í¬í•¨ í‚¤ì›Œë“œë¡œ ì„ ë³„
  â”œâ”€ ì„ ë³„ëœ íŒŒì¼ ìˆìŒ?
  â”‚   â”œâ”€ YES â†’ selected_files = ì„ ë³„ëœ íŒŒì¼ë“¤
  â”‚   â””â”€ NO â†’ selected_files = ëª¨ë“  íŒŒì¼
  â†“
[4-3] ì œì™¸ í‚¤ì›Œë“œë¡œ í•„í„°ë§
  â”œâ”€ filtered_files = selected_filesì—ì„œ ì œì™¸ í‚¤ì›Œë“œ ì—†ëŠ” íŒŒì¼
  â”œâ”€ filtered_files ìˆìŒ?
  â”‚   â”œâ”€ YES â†’ ìµœì¢… íŒŒì¼ = filtered_files
  â”‚   â””â”€ NO â†’ ìµœì¢… íŒŒì¼ = selected_files (ì œì™¸ ì „)
  â†“
ìµœì¢… íŒŒì¼ë“¤ ëª¨ë‘ ì²˜ë¦¬ â†’ END
```

---

### ì˜ë¬¸ì : 2ë²ˆê³¼ 4-1ë²ˆ ì¤‘ë³µ?

**2ë²ˆ**:
```
ê³µê³  ì œëª©ê³¼ íŒŒì¼ëª…ì´ ì™„ì „ ë™ì¼í•˜ë©´ ë¬´ì¡°ê±´ ì²˜ë¦¬
```

**4-1ë²ˆ**:
```
announcement_pre_processor.pyì™€ ì™„ì „ ë™ì¼í•œê²Œ ìˆë‹¤ë©´ ê·¸ 1ê°œë¥¼ ì²˜ë¦¬
```

**ë¶„ì„**:
- 2ë²ˆì—ì„œ ì´ë¯¸ ì œëª© ì¼ì¹˜ í™•ì¸
- 2ë²ˆì—ì„œ ì¼ì¹˜í•˜ë©´ END
- 4ë²ˆì€ "ì²¨ë¶€íŒŒì¼ì´ ì—¬ëŸ¬ê°œì¸ ê²½ìš°"ì˜ ë¡œì§
- 4-1ë²ˆì€ ë„ë‹¬ ë¶ˆê°€ëŠ¥ (ì´ë¯¸ 2ë²ˆì—ì„œ ì²˜ë¦¬ë¨)

**ê²°ë¡ **: 4-1ë²ˆì€ **ë¶ˆí•„ìš”** (2ë²ˆê³¼ ì¤‘ë³µ)

**ìˆ˜ì •ëœ ë¡œì§**:
```
4. ì²¨ë¶€íŒŒì¼ì´ ì—¬ëŸ¬ê°œì¸ ê²½ìš°:
   4-1. [ì‚­ì œ - 2ë²ˆê³¼ ì¤‘ë³µ]
   4-2. í•„ìˆ˜ í¬í•¨ í‚¤ì›Œë“œë¡œ ì„ ë³„
   4-3. ì œì™¸ í‚¤ì›Œë“œë¡œ í•„í„°ë§
```

---

### ìµœì¢… ë‹¨ìˆœí™”ëœ íë¦„

```
[1] ì••ì¶• íŒŒì¼ í•´ì œ
    â†“
[2] ì œëª©-íŒŒì¼ëª… ì™„ì „ ì¼ì¹˜? (ìœ ì‚¬ë„ > 0.95)
    YES â†’ ì¼ì¹˜ íŒŒì¼ ì„ íƒ (ì—¬ëŸ¬ê°œë©´ í™•ì¥ì ìš°ì„ ) â†’ END
    NO â†’ ë‹¤ìŒ
    â†“
[3] ì²¨ë¶€íŒŒì¼ 1ê°œ?
    YES â†’ ê·¸ íŒŒì¼ ì²˜ë¦¬ â†’ END
    NO â†’ ë‹¤ìŒ
    â†“
[4] í•„ìˆ˜ í¬í•¨ í‚¤ì›Œë“œ ì„ ë³„
    ì„ ë³„ë¨ â†’ selected = ì„ ë³„ëœ íŒŒì¼ë“¤
    ì—†ìŒ â†’ selected = ëª¨ë“  íŒŒì¼
    â†“
[5] ì œì™¸ í‚¤ì›Œë“œ í•„í„°ë§
    ë‚¨ìŒ â†’ final = í•„í„°ë§ í›„ íŒŒì¼ë“¤
    ì—†ìŒ â†’ final = í•„í„°ë§ ì „ íŒŒì¼ë“¤
    â†“
[6] final íŒŒì¼ë“¤ ëª¨ë‘ ì²˜ë¦¬ â†’ END
```

---

## ğŸ“ êµ¬í˜„ ê³„íš

### 1. í•„ìˆ˜ í¬í•¨ í‚¤ì›Œë“œ ì •ì˜

**í˜„ì¬ ìš°ì„ ìˆœìœ„ í‚¤ì›Œë“œë¥¼ ì¬ì‚¬ìš©**:
```python
REQUIRED_KEYWORDS = [
    # ê³µê³  ê´€ë ¨
    "ëª¨ì§‘ê³µê³ ", "ì„ ì •ê³µê³ ", "ë°œí‘œê³µê³ ", "ê³µê³ ë¬¸", "ê³µê³ ", "ê³µë¬¸",
    # ì‚¬ì—… ê´€ë ¨
    "ì‚¬ì—…ê³„íš", "ì§€ì›ì‚¬ì—…", "ë³´ì¡°ì‚¬ì—…", "ì‚¬ì—…", "ë³´ì¡°ê¸ˆ",
    # ì‹ ì²­/ëª¨ì§‘ ê´€ë ¨
    "ì§€ì›ì‹ ì²­", "ì°¸ê°€ì‹ ì²­", "ì…ì£¼ì‹ ì²­", "ì ‘ìˆ˜ì‹ ì²­", "ëª¨ì§‘", "ì§€ì›", "ì°¸ì—¬", "ì ‘ìˆ˜",
    # ê³„íš/ì œì•ˆ ê´€ë ¨
    "ì‚¬ì—…ê³„íšì„œ", "ì¶”ì§„ê³„íšì„œ", "ê³„íšì„œ", "ì œì•ˆì„œ", "ì¶”ì§„ê³„íš",
]
```

**ì„ ë³„ ì¡°ê±´**: íŒŒì¼ëª…ì— **í‚¤ì›Œë“œ ì¤‘ í•˜ë‚˜ë¼ë„** í¬í•¨

---

### 2. ì œì™¸ í‚¤ì›Œë“œ ì •ì˜

**í˜„ì¬ ì œì™¸ í‚¤ì›Œë“œ ì¬ì‚¬ìš©**:
```python
EXCLUDE_KEYWORDS = [
    # ì‹ ì²­ì„œ ê´€ë ¨
    "ì‹ ì²­ì„œì–‘ì‹", "ì…ì£¼ì‹ ì²­ì„œ", "ì°¸ê°€ì‹ ì²­ì„œ", "ì§€ì›ì‹ ì²­ì„œ", "ì‹ ì²­ì„œ", "ì‹ ì²­ì–‘ì‹",
    # ì²¨ë¶€/ì°¸ê³ 
    "ì²¨ë¶€ë¬¸ì„œ", "ì²¨ë¶€ì„œë¥˜", "ì²¨ë¶€ìë£Œ", "ì²¨ë¶€", "ì°¸ê³ ìë£Œ", "ì°¸ì¡°",
    # ì–‘ì‹/í…œí”Œë¦¿
    "ì–‘ì‹", "ì„œì‹", "í…œí”Œë¦¿", "template", "form",
    # ê¸°íƒ€
    "ë³„ì§€", "ë³„ì²¨", "ë¶™ì„", "ë¶€ë¡", "ìƒ˜í”Œ", "ì˜ˆì‹œ", "ì•ˆë‚´ì„œ", "ê°€ì´ë“œ", "ë§¤ë‰´ì–¼",
    "ì²´í¬ë¦¬ìŠ¤íŠ¸", "checklist", "faq",
]
```

**ì œì™¸ ì¡°ê±´**: íŒŒì¼ëª…ì— **ì œì™¸ í‚¤ì›Œë“œ ì¤‘ í•˜ë‚˜ë¼ë„** í¬í•¨

---

### 3. í™•ì¥ì ìš°ì„ ìˆœìœ„

```python
EXTENSION_PRIORITY = {
    '.md': 1,      # ìµœìš°ì„  (ì´ë¯¸ ë³€í™˜ë¨)
    '.hwp': 2,     # í•œê¸€
    '.hwpx': 3,    # í•œê¸€ XML
    '.pdf': 4,     # PDF
    '.docx': 5,    # Word
    '.pptx': 10,   # PowerPoint
    '.jpg': 20,    # ì´ë¯¸ì§€
    '.jpeg': 20,
    '.png': 20,
    '.gif': 20,
    '.bmp': 20,
    '.webp': 20,
    '.zip': 30,    # ì••ì¶• (ìµœí•˜ìœ„)
}
```

---

### 4. ì œëª©-íŒŒì¼ëª… ì¼ì¹˜ íŒë‹¨

**ìœ ì‚¬ë„ ê¸°ì¤€**: 0.95 ì´ìƒ

```python
def is_title_match(filename: str, title: str) -> bool:
    """ì œëª©ê³¼ íŒŒì¼ëª…ì´ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸ (ìœ ì‚¬ë„ > 0.95)"""
    similarity = calculate_title_similarity(filename, title)
    return similarity > 0.95
```

---

## âš ï¸ ì¶”ê°€ ê³ ë ¤ì‚¬í•­

### 1. "ëª¨ë“  íŒŒì¼ ì²˜ë¦¬"ì˜ ì„±ëŠ¥

**ì‹œë‚˜ë¦¬ì˜¤**:
```
í•„ìˆ˜ í‚¤ì›Œë“œ ì—†ìŒ â†’ 10ê°œ íŒŒì¼ ëª¨ë‘ ì²˜ë¦¬
```

**ìš°ë ¤**:
- íŒŒì¼ ê°œìˆ˜ ë§ìœ¼ë©´ ì²˜ë¦¬ ì‹œê°„ ì¦ê°€
- ë¶ˆí•„ìš”í•œ íŒŒì¼(ì‹ ì²­ì„œ ë“±)ë„ ì²˜ë¦¬

**ì§ˆë¬¸**: ì •ë§ ëª¨ë“  íŒŒì¼ ì²˜ë¦¬?

**ëŒ€ì•ˆ**:
```python
# ìµœëŒ€ ì²˜ë¦¬ íŒŒì¼ ìˆ˜ ì œí•œ
MAX_FILES_TO_PROCESS = 5

if len(final_files) > MAX_FILES_TO_PROCESS:
    # í™•ì¥ì ìš°ì„ ìˆœìœ„ë¡œ ìƒìœ„ 5ê°œë§Œ ì„ íƒ
    final_files = sorted(final_files,
                        key=lambda f: extension_priority[f.suffix])[:MAX_FILES_TO_PROCESS]
```

---

### 2. ì••ì¶• íŒŒì¼ ì²˜ë¦¬ ì‹œì 

**í˜„ì¬ êµ¬í˜„**:
```
ZIP íŒŒì¼ ë°œê²¬ ì‹œ attachmentProcessorì—ì„œ ìë™ ì••ì¶• í•´ì œ ë° ì²˜ë¦¬
```

**í™•ì¸ í•„ìš”**:
- ì••ì¶• í•´ì œëŠ” ì´ë¯¸ ë˜ê³  ìˆìŒ âœ…
- ì¶”ê°€ ì‘ì—… ë¶ˆí•„ìš”

---

### 3. ë¡œê¹… ë° ì¶”ì 

**í•„ìš”ì„±**:
- ì–´ë–¤ ë‹¨ê³„ì—ì„œ ì„ íƒë˜ì—ˆëŠ”ì§€ ì¶”ì 
- ë””ë²„ê¹… ìš©ì´

**êµ¬í˜„**:
```python
logger.info(f"[ë‹¨ê³„ 2] ì œëª© ì¼ì¹˜: {matched_file}")
logger.info(f"[ë‹¨ê³„ 4] í•„ìˆ˜ í‚¤ì›Œë“œ ì„ ë³„: {len(selected)} / {len(all_files)}ê°œ")
logger.info(f"[ë‹¨ê³„ 5] ì œì™¸ í‚¤ì›Œë“œ í•„í„°ë§: {len(filtered)} / {len(selected)}ê°œ")
logger.info(f"[ìµœì¢…] ì²˜ë¦¬ íŒŒì¼: {len(final_files)}ê°œ")
```

---

## âœ… ìµœì¢… í™•ì¸ ì‚¬í•­

### ì‚¬ìš©ì í™•ì¸ ì™„ë£Œ (2025-11-14)

1. **"announcement_pre_processor.pyì™€ ì™„ì „ ë™ì¼"ì˜ ì˜ë¯¸**
   - âœ… í™•ì¸: "ê³µê³  ì œëª©ê³¼ ì™„ì „ ë™ì¼" (2ë²ˆê³¼ ë™ì¼)
   - **ê²°ë¡ **: Step 4-1 ì œê±° (Step 2ì™€ ì¤‘ë³µ, ë„ë‹¬ ë¶ˆê°€ëŠ¥)

2. **"ëª¨ë“  ì²¨ë¶€íŒŒì¼ ì²˜ë¦¬"ì˜ ì •í™•í•œ ì˜ë¯¸**
   - âœ… í™•ì¸: ëª¨ë“  íŒŒì¼ ë‚´ìš© ì¶”ì¶œ & ê²°í•©
   - **êµ¬í˜„**: ì„ ë³„ëœ ëª¨ë“  íŒŒì¼ì„ ìˆœíšŒí•˜ë©° ë‚´ìš© ì¶”ì¶œ í›„ ê²°í•©

3. **ìµœëŒ€ ì²˜ë¦¬ íŒŒì¼ ìˆ˜ ì œí•œ í•„ìš” ì—¬ë¶€**
   - âœ… í™•ì¸: ì œí•œ ì—†ìŒ (10ê°œ ì´ìƒë„ ëª¨ë‘ ì²˜ë¦¬)
   - **êµ¬í˜„**: íŒŒì¼ ê°œìˆ˜ ì œí•œ ì—†ì´ ëª¨ë‘ ì²˜ë¦¬

4. **"í•„ìˆ˜ í¬í•¨ í‚¤ì›Œë“œ" ì •ì˜**
   - âœ… í™•ì¸: í˜„ì¬ ìš°ì„ ìˆœìœ„ í‚¤ì›Œë“œ ì¬ì‚¬ìš©
   - **êµ¬í˜„**: ê¸°ì¡´ 29ê°œ í‚¤ì›Œë“œë¥¼ "í•„ìˆ˜ í¬í•¨ í‚¤ì›Œë“œ"ë¡œ ì‚¬ìš©

---

**ë‹¤ìŒ ë‹¨ê³„**: êµ¬í˜„ ì‹œì‘

---

## ğŸ¯ ìµœì¢… í™•ì •ëœ ë¡œì§

### ë‹¨ìˆœí™”ëœ íë¦„ë„

```
[Step 1] ì••ì¶• íŒŒì¼ í•´ì œ
    â†“ (ì´ë¯¸ attachmentProcessorì—ì„œ ì²˜ë¦¬ë¨)

[Step 2] ì œëª©-íŒŒì¼ëª… ì™„ì „ ì¼ì¹˜? (ìœ ì‚¬ë„ > 0.95)
    YES â†’ ì¼ì¹˜ íŒŒì¼ ì—¬ëŸ¬ê°œ?
          YES â†’ í™•ì¥ì ìš°ì„ ìˆœìœ„ë¡œ 1ê°œ ì„ íƒ â†’ END
          NO â†’ ê·¸ íŒŒì¼ ì²˜ë¦¬ â†’ END
    NO â†’ ë‹¤ìŒ
    â†“

[Step 3] ì²¨ë¶€íŒŒì¼ 1ê°œ?
    YES â†’ ê·¸ íŒŒì¼ ì²˜ë¦¬ â†’ END
    NO â†’ ë‹¤ìŒ
    â†“

[Step 4] í•„ìˆ˜ í¬í•¨ í‚¤ì›Œë“œë¡œ ì„ ë³„
    ì„ ë³„ëœ íŒŒì¼ ìˆìŒ? â†’ selected = ì„ ë³„ëœ íŒŒì¼ë“¤
    ì—†ìŒ? â†’ selected = ëª¨ë“  íŒŒì¼
    â†“

[Step 5] ì œì™¸ í‚¤ì›Œë“œë¡œ í•„í„°ë§
    filtered = selectedì—ì„œ ì œì™¸ í‚¤ì›Œë“œ ì—†ëŠ” íŒŒì¼ë“¤
    filtered ìˆìŒ? â†’ final = filtered
    ì—†ìŒ? â†’ final = selected (ì œì™¸ ì „)
    â†“

[Step 6] final íŒŒì¼ë“¤ **ëª¨ë‘** ì²˜ë¦¬ â†’ END
    - ê° íŒŒì¼ ë‚´ìš© ì¶”ì¶œ
    - ëª¨ë“  ë‚´ìš© ê²°í•©í•˜ì—¬ ì €ì¥
```

### í•µì‹¬ ë³€ê²½ì 

1. **Step 4-1 ì œê±°**: Step 2ì™€ ì¤‘ë³µë˜ë¯€ë¡œ ì‚­ì œ
2. **ë‹¤ì¤‘ íŒŒì¼ ì²˜ë¦¬**: ìµœì¢… ì„ ë³„ëœ íŒŒì¼ë“¤ì„ **ëª¨ë‘** ì²˜ë¦¬ (1ê°œë§Œ ì„ íƒ X)
3. **íŒŒì¼ ê°œìˆ˜ ì œí•œ ì—†ìŒ**: 10ê°œ ì´ìƒë„ ëª¨ë‘ ì²˜ë¦¬
4. **ì ìˆ˜ ì‹œìŠ¤í…œ ì™„ì „ ì œê±°**: ê·œì¹™ ê¸°ë°˜ ë‹¨ê³„ë³„ í•„í„°ë§ìœ¼ë¡œ ëŒ€ì²´

---

## ğŸ“ êµ¬í˜„ ê³„íš

### í•¨ìˆ˜ êµ¬ì¡°

```python
def rule_based_file_selection(
    all_files: List[Path],
    announcement_title: str
) -> List[Path]:
    """
    ê·œì¹™ ê¸°ë°˜ íŒŒì¼ ì„ ë³„

    Returns:
        List[Path]: ì²˜ë¦¬í•  íŒŒì¼ ë¦¬ìŠ¤íŠ¸ (1ê°œ ì´ìƒ)
    """

    # Step 1: ì••ì¶• í•´ì œ (ì´ë¯¸ ì™„ë£Œë¨, í™•ì¸ë§Œ)

    # Step 2: ì œëª©-íŒŒì¼ëª… ì¼ì¹˜ í™•ì¸
    title_matched = find_title_matched_files(all_files, announcement_title)
    if title_matched:
        return [select_by_extension_priority(title_matched)]

    # Step 3: íŒŒì¼ 1ê°œ?
    if len(all_files) == 1:
        return all_files

    # Step 4: í•„ìˆ˜ í¬í•¨ í‚¤ì›Œë“œ ì„ ë³„
    selected = filter_by_required_keywords(all_files)
    if not selected:
        selected = all_files

    # Step 5: ì œì™¸ í‚¤ì›Œë“œ í•„í„°ë§
    filtered = filter_by_exclude_keywords(selected)
    if not filtered:
        filtered = selected

    # Step 6: ìµœì¢… íŒŒì¼ë“¤ ë°˜í™˜
    return filtered
```

### ë‚´ìš© ì¶”ì¶œ í•¨ìˆ˜

```python
def extract_contents_from_files(
    files: List[Path],
    announcement_id: str
) -> str:
    """
    ì—¬ëŸ¬ íŒŒì¼ì˜ ë‚´ìš©ì„ ëª¨ë‘ ì¶”ì¶œí•˜ì—¬ ê²°í•©

    Args:
        files: ì²˜ë¦¬í•  íŒŒì¼ ë¦¬ìŠ¤íŠ¸
        announcement_id: ê³µê³  ID

    Returns:
        str: ê²°í•©ëœ ë‚´ìš©
    """
    all_contents = []

    for file_path in files:
        logger.info(f"íŒŒì¼ ì²˜ë¦¬ ì¤‘: {file_path.name}")
        content = extract_single_file_content(file_path, announcement_id)
        if content:
            all_contents.append(f"# {file_path.name}\n\n{content}")

    combined = "\n\n---\n\n".join(all_contents)
    logger.info(f"ì´ {len(files)}ê°œ íŒŒì¼ ë‚´ìš© ê²°í•© ì™„ë£Œ")

    return combined
```

---

## ğŸ”§ êµ¬í˜„ ìƒì„¸

### 1. ì œëª©-íŒŒì¼ëª… ì¼ì¹˜ í™•ì¸

```python
def find_title_matched_files(
    files: List[Path],
    title: str
) -> List[Path]:
    """ì œëª©ê³¼ ì¼ì¹˜í•˜ëŠ” íŒŒì¼ë“¤ ì°¾ê¸° (ìœ ì‚¬ë„ > 0.95)"""
    matched = []
    for file_path in files:
        similarity = calculate_title_similarity(file_path.stem, title)
        if similarity > 0.95:
            matched.append(file_path)
            logger.info(f"ì œëª© ì¼ì¹˜: {file_path.name} (ìœ ì‚¬ë„: {similarity:.3f})")
    return matched
```

### 2. í™•ì¥ì ìš°ì„ ìˆœìœ„ ì„ íƒ

```python
EXTENSION_PRIORITY = {
    '.md': 1,
    '.hwp': 2,
    '.hwpx': 3,
    '.pdf': 4,
    '.docx': 5,
    '.pptx': 10,
    '.jpg': 20,
    '.jpeg': 20,
    '.png': 20,
    '.zip': 30
}

def select_by_extension_priority(files: List[Path]) -> Path:
    """í™•ì¥ì ìš°ì„ ìˆœìœ„ë¡œ 1ê°œ ì„ íƒ"""
    return min(files, key=lambda f: EXTENSION_PRIORITY.get(f.suffix.lower(), 99))
```

### 3. í•„ìˆ˜ í¬í•¨ í‚¤ì›Œë“œ í•„í„°ë§

```python
REQUIRED_KEYWORDS = [
    "ëª¨ì§‘ê³µê³ ", "ì„ ì •ê³µê³ ", "ë°œí‘œê³µê³ ", "ê³µê³ ë¬¸", "ê³µê³ ", "ê³µë¬¸",
    "ì‚¬ì—…ê³„íš", "ì§€ì›ì‚¬ì—…", "ë³´ì¡°ì‚¬ì—…", "ì‚¬ì—…", "ë³´ì¡°ê¸ˆ",
    "ì§€ì›ì‹ ì²­", "ì°¸ê°€ì‹ ì²­", "ì…ì£¼ì‹ ì²­", "ì ‘ìˆ˜ì‹ ì²­", "ëª¨ì§‘", "ì§€ì›", "ì°¸ì—¬", "ì ‘ìˆ˜",
    "ì‚¬ì—…ê³„íšì„œ", "ì¶”ì§„ê³„íšì„œ", "ê³„íšì„œ", "ì œì•ˆì„œ", "ì¶”ì§„ê³„íš",
]

def filter_by_required_keywords(files: List[Path]) -> List[Path]:
    """í•„ìˆ˜ í¬í•¨ í‚¤ì›Œë“œë¡œ ì„ ë³„"""
    selected = []
    for file_path in files:
        filename = file_path.stem.lower()
        if any(keyword.lower() in filename for keyword in REQUIRED_KEYWORDS):
            selected.append(file_path)

    logger.info(f"í•„ìˆ˜ í‚¤ì›Œë“œ ì„ ë³„: {len(selected)}/{len(files)}ê°œ")
    return selected
```

### 4. ì œì™¸ í‚¤ì›Œë“œ í•„í„°ë§

```python
EXCLUDE_KEYWORDS = [
    "ì‹ ì²­ì„œì–‘ì‹", "ì…ì£¼ì‹ ì²­ì„œ", "ì°¸ê°€ì‹ ì²­ì„œ", "ì§€ì›ì‹ ì²­ì„œ", "ì‹ ì²­ì„œ", "ì‹ ì²­ì–‘ì‹",
    "ì²¨ë¶€ë¬¸ì„œ", "ì²¨ë¶€ì„œë¥˜", "ì²¨ë¶€ìë£Œ", "ì²¨ë¶€", "ì°¸ê³ ìë£Œ", "ì°¸ì¡°",
    "ì–‘ì‹", "ì„œì‹", "í…œí”Œë¦¿", "template", "form",
    "ë³„ì§€", "ë³„ì²¨", "ë¶™ì„", "ë¶€ë¡", "ìƒ˜í”Œ", "ì˜ˆì‹œ", "ì•ˆë‚´ì„œ", "ê°€ì´ë“œ", "ë§¤ë‰´ì–¼",
]

def filter_by_exclude_keywords(files: List[Path]) -> List[Path]:
    """ì œì™¸ í‚¤ì›Œë“œë¡œ í•„í„°ë§"""
    filtered = []
    for file_path in files:
        filename = file_path.stem.lower()
        if not any(keyword.lower() in filename for keyword in EXCLUDE_KEYWORDS):
            filtered.append(file_path)

    logger.info(f"ì œì™¸ í‚¤ì›Œë“œ í•„í„°ë§: {len(filtered)}/{len(files)}ê°œ ë‚¨ìŒ")
    return filtered
```

---

## ğŸ“Š ì˜ˆìƒ ê²°ê³¼

### Before (ì ìˆ˜ ì‹œìŠ¤í…œ)
```
- ë³µì¡í•œ ì ìˆ˜ ê³„ì‚°
- í•­ìƒ 1ê°œ íŒŒì¼ë§Œ ì„ íƒ
- ì´ë¯¸ì§€ íŒ¨ë„í‹° ë“± ì˜ˆì™¸ ì²˜ë¦¬ ë§ìŒ
- ì •í™•ë„: ~93% (ì¶”ì •)
```

### After (ê·œì¹™ ê¸°ë°˜)
```
- ëª…í™•í•œ ë‹¨ê³„ë³„ í•„í„°ë§
- í•„ìš”ì‹œ ì—¬ëŸ¬ íŒŒì¼ ì²˜ë¦¬ (ë‚´ìš© ê²°í•©)
- ì˜ˆì™¸ ì²˜ë¦¬ ìµœì†Œí™”
- ì˜ˆìƒ ì •í™•ë„: 95%+ (ëª…í™•í•œ ê·œì¹™)
```

---

**êµ¬í˜„ ì‹œì‘ ì¤€ë¹„ ì™„ë£Œ** âœ…
